<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Todo</title>
    <style>
 * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: 'Poppins', sans-serif;
    font-size: 16px;
    line-height: 1.5;
  }
body {
    position: relative;
    font-family: 'Poppins', sans-serif;
    background-color: #f7f9fc;
    color: #333333;
    font-size: 16px;
    line-height: 1.5;
    padding: 10px;
}
.container {
    position: relative;
    margin-top: 30vh;
    margin-left: 35vw;
    max-width: 450px;
    display: flex;
    flex-direction: column;
    align-items: center;
    border: 2px solid #e0e0e0;
    border-radius: 10px;
    background-color: #fff;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    margin: 10vh auto;
    margin-left: auto;
    margin-right: auto;
    padding: 15px;
    gap: 15px;
}
#todo-btn {
    background-color: #4caf50;
    color: #fff;
    border: none;
    padding: 13px 20px 12px 20px;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.5s ease-in-out;
    width: 100%;
    font-size: 14px;
    padding: 10px;
    margin-top: 10px;
}
#todo-btn:hover {
    background-color: #388e3c;
}
input[type="text"] {
    padding: 10px;
    border: 1px solid #e0e0e0;
    width: 100%;
    border-radius: 5px;
    font-size: 16px;
    color: #333333;
    background-color: #f7f9fc; 
    font-size: 14px; 
}
input[type="text"]:focus {
    outline: none;
    border-color: #4caf50;
    box-shadow: 0 0 5px rgba(76, 175, 80, 0.5);
}
.error {
    display: none;
    color: #f44336;
    font-size: 14px;
    margin-top: 5px;
    margin-left: 2px;
}
.completed p{
    text-decoration: line-through;
    color: #9e9e9e;
}
#todo-list{
    list-style-type: none;
    padding: 0;
    margin: 0;
    width: 100%;
    display: flex   ;
    flex-direction: column;
    gap: 10px;
    align-items: center;
    justify-content: center;
}
#todo-list li {
    background-color: #f7f9fc;
    padding: 10px;
    border-radius: 5px;
    width: 100%;
    display: flex;
    justify-content: space-between;
    align-items: center;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    transition: background-color 0.3s ease-in-out;
    font-size: 14px;
    overflow-x: scroll;
}
#todo-list li button {
    font-size: 12px; 
    padding: 5px 10px;
}
.ok{
    position: fixed;
    background-color: #4caf50;
    color: #fff;
    border: none;
    padding: 10px 20px;
    border-radius: 15px;
    cursor: pointer;
    transition: background-color 0.3s ease-in-out;
    width: auto;
    bottom: 20px;
    right: 20px;
    font-weight: 900;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
    z-index: 1000;
}
.deleteCompleted{
    position: fixed;
    background-color: #4caf50;
    color: #fff;
    border: none;
    padding: 10px 20px;
    border-radius: 15px;
    cursor: pointer;
    transition: background-color 0.3s ease-in-out;
    width: auto;
    bottom: 20px;
    right: 20px;
    font-weight: 900;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
    z-index: 1000;
}
.addCompleted {
    position: fixed;
    background-color: #4caf50;
    color: #fff;
    border: none;
    padding: 10px 20px;
    border-radius: 15px;
    cursor: pointer;
    transition: background-color 0.3s ease-in-out;
    width: auto;
    bottom: 20px;
    font-weight: 900;
    right: 20px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
    z-index: 1000;
}
.addTask {
    position: fixed;
    font-weight: 900;
    background-color: #f44336;
    color: #fff;
    border: none;
    padding: 10px 20px;
    border-radius: 15px;
    cursor: pointer;
    transition: background-color 0.3s ease-in-out;
    width: auto;
    bottom: 20px;
    right: 20px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
    z-index: 1000;
}
.range {
    -webkit-appearance: none;
    appearance: none;
    width: 100%;
    height: 12px;
    background: #fff;
    border-radius: 10px;
    outline: none;
    transition: background 0.3s ease-in-out;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
    padding: 10px;
}
.range::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 0;
    height: 0;
    background: transparent;
    border: none;
    cursor: pointer;
}
.range::-moz-range-thumb {
    width: 0;
    height: 0;
    background: transparent;
    border: none;
    cursor: pointer;
}
.range::-ms-thumb {
    width: 0;
    height: 0;
    background: transparent;
    border: none;
    cursor: pointer;
}
.range2 {
    -webkit-appearance: none;
    appearance: none;
    width: 100%;
    height: 12px;
    background: #fff;
    border-radius: 10px;
    outline: none;
    transition: background 0.3s ease-in-out;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
    padding: 10px;
}
.range2::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 0;
    height: 0;
    background: transparent;
    border: none;
    cursor: pointer;
}
.range2::-moz-range-thumb {
    width: 0;
    height: 0;
    background: transparent;
    border: none;
    cursor: pointer;
}
.range2::-ms-thumb {
    width: 0;
    height: 0;
    background: transparent;
    border: none;
    cursor: pointer;
}
.range3 {
    -webkit-appearance: none;
    appearance: none;
    width: 100%;
    height: 12px;
    background: #fff;
    border-radius: 10px;
    outline: none;
    transition: background 0.3s ease-in-out;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
    padding: 10px;
}
.range3::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 0;
    height: 0;
    background: transparent;
    border: none;
    cursor: pointer;
}
.range3::-moz-range-thumb {
    width: 0;
    height: 0;
    background: transparent;
    border: none;
    cursor: pointer;
}
.range3::-ms-thumb {
    width: 0;
    height: 0;
    background: transparent;
    border: none;
    cursor: pointer;
}
.range4 {
    -webkit-appearance: none;
    appearance: none;
    width: 100%;
    height: 12px;
    background: #fff;
    border-radius: 10px;
    outline: none;
    transition: background 0.3s ease-in-out;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
    padding: 10px;
}
.range4::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 0;
    height: 0;
    background: transparent;
    border: none;
    cursor: pointer;
}
.range4::-moz-range-thumb {
    width: 0;
    height: 0;
    background: transparent;
    border: none;
    cursor: pointer;
}
.range4::-ms-thumb {
    width: 0;
    height: 0;
    background: transparent;
    border: none;
    cursor: pointer;
}
.delete-btn{
    background-color: #f44336;
    /* Red */
    color: #fff;
    border: none;
    padding: 10px 20px;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s ease-in-out;
}
h2{
    font-size: 24px;
    color: #333333;
    text-align: center;
}
/* Scrollbar styling */
::-webkit-scrollbar {
    width: 8px; /* Width of the scrollbar */
    height: 8px; /* Height of the scrollbar */
}

::-webkit-scrollbar-track {
    background: #f1f1f1; /* Light gray background for the track */
    border-radius: 10px; /* Rounded corners */
}

::-webkit-scrollbar-thumb {
    background: #4caf50; /* Green color for the scrollbar thumb */
    border-radius: 10px; /* Rounded corners */
    transition: background-color 0.3s ease-in-out;
}

::-webkit-scrollbar-thumb:hover {
    background: #388e3c; /* Darker green on hover */
}

/* Adjust container width for larger screens */
@media (min-width: 1024px) {
    .container {
        max-width: 1600px; /* Increase width for laptops/PCs */
    }
}
    </style>
</head>
<body>
    <div class="container">
        <h2>Todo List</h2>
        <form id="todo-form">
            <input type="text" id="todo-input" placeholder="Add a new task" >
            <button type="submit" id="todo-btn">Add</button>
            <p class="error">*Please enter your task</p>
        </form>
        <ul id="todo-list"></ul>
    </div>
    <div class="ok" >
        <p>Task Completed</p>
        <input type="range" class="range" name="range" id="range" min="0" max="100" value="0">
    </div>
    <div class="deleteCompleted" >
        <p>Task Deleted Successfully</p>
        <input type="range" class="range2" name="range" id="range" min="0" max="100" value="0">
    </div>
    <div class="addCompleted" >
        <p>Task Added Successfully</p>
        <input type="range" class="range3" name="range" id="range" min="0" max="100" value="0">
    </div>
    <div class="addTask" >
        <p>Please enter your task</p>
        <input type="range" class="range4" name="range" id="range" min="0" max="100" value="0">
    </div>
</body>
<script>
  let todoInput = document.querySelector("#todo-input");
  let todoButton = document.querySelector("#todo-btn");
  let todoList = document.querySelector("#todo-list");
  let errorMessage = document.querySelector(".error");
  let tasks = JSON.parse(localStorage.getItem("tasks"))||[];
document.querySelector(".deleteCompleted").style.display = "none"; 
document.querySelector(".ok").style.display = "none";
document.querySelector(".addCompleted").style.display = "none";
document.querySelector(".addTask").style.display = "none";
  document.addEventListener("DOMContentLoaded", function () {
    list();
  });
let date = new Date();
const day = String(date.getDate()).padStart(2, '0');
const month = String(date.getMonth() + 1).padStart(2, '0');
const year = date.getFullYear();
const currentDate = `${day}-${month}-${year}`;
  todoButton.addEventListener("click", function () {
    event.preventDefault();
    let todoText = todoInput.value.trim();
    if (todoText === "") {
      errorMessage.style.display = "block";
      document.querySelector(".addTask").style.display = "block";
      const range4 = document.querySelector(".range4");
      range4.value = 0;
      const duration = 2000;
      const step = 1;
      const interval = duration / (100 / step);
      let currentValue = 0;
      const intervalId = setInterval(() => {
        currentValue += step;
        range4.value = currentValue;
        const percentage = (range4.value / range4.max) * 100 + 1;
        range4.style.background = `linear-gradient(90deg, #f44336 ${percentage}%, #fff ${percentage}%)`;
        if (currentValue >= 100) {
          clearInterval(intervalId);
          setTimeout(() => {
            document.querySelector(".addTask").style.display = "none";
          }, 500);
        }
      }, interval);
      todoInput.style.outline = "2px solid red";
      todoInput.style.boxShadow = "0 0 5px rgba(255, 0, 0, 0.5)";
      return;
    }
    const newTask = {
      id: currentDate,
      text: todoText,
      Completed: false,
    };
    if (todoText) {
      tasks.push(newTask);
      saveTasks();
      list(); 
      todoInput.value = ""; 
      document.querySelector(".addCompleted").style.display = "block";
      const range3 = document.querySelector(".range3");
      range3.value = 0;
      const duration = 2000;
      const step = 1;
      const interval = duration / (100 / step);
      let currentValue = 0;
      const intervalId = setInterval(() => {
        currentValue += step;
        range3.value = currentValue;
        const percentage = (range3.value / range3.max) * 100 + 1;
        range3.style.background = `linear-gradient(90deg, #4caf50 ${percentage}%, #fff ${percentage}%)`;
        if (currentValue >= 100) {
          clearInterval(intervalId);
          setTimeout(() => {
            document.querySelector(".addCompleted").style.display = "none";
          }, 500);
        }
      }, interval);
    }
  });
  todoInput.addEventListener("click", function () {
    event.preventDefault();
    if (errorMessage.style.display === "block") {
      errorMessage.style.display = "none";
      todoInput.style.outline = "none";
      todoInput.style.boxShadow = "none";
    }
  });
  function list() {
    event.preventDefault();
    todoList.innerHTML = "";
    for (let i = 0; i < tasks.length; i++) {
      let taskList = document.createElement("li");
      taskList.classList.add("todo-item");
      taskList.innerHTML = `<h6>${tasks[i].id}</h6>
      <input type="checkbox" class="checkbox" /> <p>${tasks[i].text}</p><button class="delete-btn">Delete</button>`;
      let deleteButton = taskList.querySelector(".delete-btn");
      deleteButton.addEventListener("click", function () {
        tasks.splice(i, 1);
        saveTasks();
        list();
        document.querySelector(".deleteCompleted").style.display = "block";
        const range2 = document.querySelector(".range2");
        range2.value = 0;
        const duration = 2000;
        const step = 1;
        const interval = duration / (100 / step);
        let currentValue = 0;
        const intervalId = setInterval(() => {
          currentValue += step;
          range2.value = currentValue;
          const percentage = (range2.value / range2.max) * 100 + 1;
          range2.style.background = `linear-gradient(90deg, #4caf50 ${percentage}%, #fff ${percentage}%)`;
          if (currentValue >= 100) {
            clearInterval(intervalId);
            setTimeout(() => {

              document.querySelector(".deleteCompleted").style.display = "none";
            }, 500);
          }
        }, interval);
      });
      let checkbox = taskList.querySelector(".checkbox");
      checkbox.addEventListener("click", function () {
        tasks[i].Completed = checkbox.checked;
        saveTasks();
        list();
        if (checkbox.checked == true) {
          const okElement = document.querySelector(".ok");
          document.querySelector(".ok").style.display = "block";
          const range = document.querySelector(".range");
          range.value = 0;
          const duration = 2000;
          const step = 1;
          const interval = duration / (100 / step);
          let currentValue = 0;
          const intervalId = setInterval(() => {
            currentValue += step;
            range.value = currentValue;
            const percentage= (range.value / range.max)*100+1;
            range.style.background = `linear-gradient(90deg, #4caf50 ${percentage}%, #fff ${percentage}%)`;
            if (currentValue >= 100) {
              clearInterval(intervalId);
              setTimeout(() => {
                document.querySelector(".ok").style.display = "none";
              }, 500);
            }
          }, interval);
        }
      });
      if (tasks[i].Completed) {
        checkbox.checked = true;
        taskList.classList.add("completed");
      } else {
        checkbox.checked = false;
        taskList.classList.remove("completed");
      }
      todoList.appendChild(taskList);
    }
  }
  function saveTasks() {
    localStorage.setItem("tasks", JSON.stringify(tasks));
  }
</script>
</html>